(()=>{"use strict";var e,t={30:()=>{const e=window.wp.blocks,t=window.React,n=window.wp.i18n,o=window.wp.blockEditor,l=window.wp.components,a=window.wp.element,r=window.wp.url;const u=JSON.parse('{"u2":"wpopus/advanced-button"}');(0,e.registerBlockType)(u.u2,{edit:function(e){const{attributes:u,setAttributes:c}=e,[s,p]=(0,a.useState)([]),[i,m]=(0,a.useState)(!1),[b,d]=(0,a.useState)(),[w,_]=(0,a.useState)(!1),[v,g]=(0,a.useState)(!0),[E,h]=(0,a.useState)(null),[f,I]=(0,a.useState)(""),[C,T]=(0,a.useState)("");function x(e,t){c({[e]:t})}function k(e,t){c({options:{...u.options,[e]:t}})}(0,a.useEffect)((()=>{h(null),async function(){try{return await async function(){const e=await wp.apiFetch({path:"/wpopus/v1/icons"});return Object.entries(e).map((([e,t])=>({index:e,value:t})))}()}catch(e){return e.message}}().then((e=>{p(e)})).catch((e=>{h(e)})).finally((()=>{g(!1)}))}),[]);const S=s.filter((e=>"filled"===C?!e.value.label.includes("outline")&&!e.value.label.includes("sharp")&&e.value.label.includes(f):e.value.label.includes(C)&&e.value.label.includes(f)));return(0,t.createElement)(a.Fragment,null,(0,t.createElement)(o.InspectorControls,{key:"setting"},(0,t.createElement)(l.Panel,null,(0,t.createElement)(l.PanelBody,{title:(0,n.__)("Icon Settings","wpopus"),initialOpen:!0},E&&(0,t.createElement)("p",null,(0,n.__)("Error Fetching Icons:","wpopus")," ",E.message),Array.isArray(s)&&(0,t.createElement)(a.Fragment,null,(0,t.createElement)("fieldset",{className:"st-search-icons"},(0,t.createElement)(l.TextControl,{label:(0,n.__)("Select Icon","wpopus"),autocomplete:"off",value:f,onChange:e=>{I(e)},onClick:e=>{e.preventDefault(),m(!0)},placeholder:(0,n.__)("Search Icon","wpopus")}),(0,t.createElement)(l.Icon,{icon:"screenoptions",onClick:()=>{m((e=>!e))}})),!i&&u.buttonIcon&&(0,t.createElement)("span",{className:"st-selected-icon",dangerouslySetInnerHTML:{__html:u.buttonIcon}}),i&&(0,t.createElement)(a.Fragment,null,(0,t.createElement)("fieldset",null,(0,t.createElement)(l.__experimentalToggleGroupControl,{value:C,isBlock:!0,onChange:e=>{T(e)}},(0,t.createElement)(l.__experimentalToggleGroupControlOption,{value:"",label:(0,n.__)("All","wpopus")}),(0,t.createElement)(l.__experimentalToggleGroupControlOption,{value:"outline",label:(0,n.__)("Outline","wpopus")}),(0,t.createElement)(l.__experimentalToggleGroupControlOption,{value:"sharp",label:(0,n.__)("Sharp","wpopus")}),(0,t.createElement)(l.__experimentalToggleGroupControlOption,{value:"filled",label:(0,n.__)("Filled","wpopus")}))),v&&(0,t.createElement)("h3",null,(0,n.__)("Loading Icons","wpopus")," ",(0,t.createElement)(l.Spinner,null)),(0,t.createElement)("div",{className:"st-icons-list"},!v&&S.map((e=>(0,t.createElement)("a",{href:"#",title:e.value.label,"icon-value":e.value.value,onClick:e=>{e.preventDefault(),x("buttonIcon",e.currentTarget.getAttribute("icon-value")),m(!1)}},(0,t.createElement)("span",{className:`${e.value.label}`,dangerouslySetInnerHTML:{__html:e.value.value}})))))))),(0,t.createElement)(l.PanelBody,{title:(0,n.__)("Icon Config","wpopus")},(0,t.createElement)("fieldset",null,(0,t.createElement)(l.__experimentalToggleGroupControl,{label:(0,n.__)("Icon Position","wpopus"),value:u.options.buttonIconPosition,isBlock:!0,onChange:e=>{k("buttonIconPosition",e)}},(0,t.createElement)(l.__experimentalToggleGroupControlOption,{value:"icon-left",label:(0,n.__)("Left","wpopus")}),(0,t.createElement)(l.__experimentalToggleGroupControlOption,{value:"icon-right",label:(0,n.__)("Right","wpopus")}))),(0,t.createElement)("br",null),(0,t.createElement)("fieldset",null,(0,t.createElement)(l.RangeControl,{label:(0,n.__)("Icon Size","wpopus"),value:u.options.buttonIconSize,min:5,max:100,onChange:e=>{k("buttonIconSize",parseInt(e))}})),(0,t.createElement)("br",null),(0,t.createElement)("fieldset",null,(0,t.createElement)(l.RangeControl,{label:(0,n.__)("Icon Gap","wpopus"),value:u.options.buttonIconGap,min:1,max:100,onChange:e=>{k("buttonIconGap",parseInt(e))}}))))),(0,t.createElement)(o.BlockControls,{label:"Options"},(0,t.createElement)(l.ToolbarGroup,null,(0,t.createElement)(l.ToolbarButton,{icon:"admin-links",label:(0,n.__)("Add Url","wpopus"),onClick:()=>{_((e=>!e))},ref:d})),w&&(0,t.createElement)(l.Popover,{className:"button-url",anchor:b},(0,t.createElement)(l.TextControl,{type:"url",label:(0,n.__)("URL","wpopus"),placeHolder:"https://",value:u.buttonUrl,onChange:e=>{x("buttonUrl",(0,r.prependHTTP)(e))}}),(0,t.createElement)(l.CheckboxControl,{label:(0,n.__)("Open in new tab","wpopus"),checked:u.options.buttonLinkNewTab,onChange:e=>{k("buttonLinkNewTab",e)}}))),(0,t.createElement)("button",{...(0,o.useBlockProps)({className:`wpopus-advanced-button ${u.options.buttonIconPosition}`})},(0,t.createElement)(o.RichText,{tagName:"span",value:u.buttonContent,allowedFormats:["core/bold","core/italic"],onChange:e=>{x("buttonContent",e)}}),(0,t.createElement)("span",{style:{"--wpopus-advanced-button-icon-size":`${u.options.buttonIconSize}px`,"--wpopus-advanced-button-icon-gap":`${u.options.buttonIconGap}px`},className:"wpopus-icon",dangerouslySetInnerHTML:{__html:u.buttonIcon}})))},save:function(e){const{attributes:n}=e;return(0,t.createElement)("button",{...o.useBlockProps.save({className:`wpopus-advanced-button ${n.options.buttonIconPosition}`})},n.buttonUrl?(0,t.createElement)("a",{href:n.buttonUrl,target:!!n.options.buttonLinkNewTab&&"_blank",rel:!!n.options.buttonLinkNewTab&&"noopener noreferrer"},(0,t.createElement)(o.RichText.Content,{tagName:"span",value:n.buttonContent}),(0,t.createElement)("span",{style:{"--wpopus-advanced-button-icon-size":`${n.options.buttonIconSize}px`,"--wpopus-advanced-button-icon-gap":`${n.options.buttonIconGap}px`},className:"wpopus-icon",dangerouslySetInnerHTML:{__html:n.buttonIcon}})):(0,t.createElement)(a.Fragment,null,(0,t.createElement)(o.RichText.Content,{tagName:"span",value:n.buttonContent}),(0,t.createElement)("span",{style:{"--wpopus-advanced-button-icon-size":`${n.options.buttonIconSize}px`,"--wpopus-advanced-button-icon-gap":`${n.options.buttonIconGap}px`},className:"wpopus-icon",dangerouslySetInnerHTML:{__html:n.buttonIcon}})))}})}},n={};function o(e){var l=n[e];if(void 0!==l)return l.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,o),a.exports}o.m=t,e=[],o.O=(t,n,l,a)=>{if(!n){var r=1/0;for(p=0;p<e.length;p++){for(var[n,l,a]=e[p],u=!0,c=0;c<n.length;c++)(!1&a||r>=a)&&Object.keys(o.O).every((e=>o.O[e](n[c])))?n.splice(c--,1):(u=!1,a<r&&(r=a));if(u){e.splice(p--,1);var s=l();void 0!==s&&(t=s)}}return t}a=a||0;for(var p=e.length;p>0&&e[p-1][2]>a;p--)e[p]=e[p-1];e[p]=[n,l,a]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={139:0,623:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var l,a,[r,u,c]=n,s=0;if(r.some((t=>0!==e[t]))){for(l in u)o.o(u,l)&&(o.m[l]=u[l]);if(c)var p=c(o)}for(t&&t(n);s<r.length;s++)a=r[s],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(p)},n=globalThis.webpackChunkwpopus=globalThis.webpackChunkwpopus||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var l=o.O(void 0,[623],(()=>o(30)));l=o.O(l)})();