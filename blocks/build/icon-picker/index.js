(()=>{"use strict";var e,n={818:()=>{const e=window.wp.blocks,n=window.React,t=window.wp.i18n,l=window.wp.blockEditor,o=window.wp.components,a=window.wp.url,r=window.wp.element;const s=JSON.parse('{"u2":"wpopus/icon-picker"}');(0,e.registerBlockType)(s.u2,{edit:function(e){const{attributes:s,setAttributes:i}=e,c=(0,l.__experimentalUseBorderProps)(s),p=(0,l.__experimentalUseColorProps)(s),u=(0,l.__experimentalGetSpacingClassesAndStyles)(s),m={...c.style,...p.style,...u.style},[_,w]=(0,r.useState)([]),[d,h]=(0,r.useState)(!1),[v,g]=(0,r.useState)(),[E,b]=(0,r.useState)(!1),[y,S]=(0,r.useState)(!0),[f,C]=(0,r.useState)(null),[x,k]=(0,r.useState)(""),[T,O]=(0,r.useState)("");function I(e,n){i({[e]:n})}function N(e,n){i({options:{...s.options,[e]:n}})}(0,r.useEffect)((()=>{C(null),async function(){try{return await async function(){const e=await wp.apiFetch({path:"/wpopus/v1/icons"});return Object.entries(e).map((([e,n])=>({index:e,value:n})))}()}catch(e){return e.message}}().then((e=>{w(e)})).catch((e=>{C(e)})).finally((()=>{S(!1)}))}),[]);const L=(0,r.useMemo)((()=>_.filter((e=>"filled"===T?!e.value.label.includes("outline")&&!e.value.label.includes("sharp")&&e.value.label.includes(x):e.value.label.includes(T)&&e.value.label.includes(x)))),[_,T,x]);return(0,n.createElement)("div",{...(0,l.useBlockProps)(),style:m},(0,n.createElement)(l.InspectorControls,{key:"setting"},(0,n.createElement)(o.Panel,null,(0,n.createElement)(o.PanelBody,{title:(0,t.__)("Icon Settings","wpopus"),initialOpen:!0},f&&(0,n.createElement)("p",null,(0,t.__)("Error Fetching Icons:","wpopus")," ",f.message),Array.isArray(_)&&(0,n.createElement)(r.Fragment,null,(0,n.createElement)("fieldset",{className:"st-search-icons"},(0,n.createElement)(o.TextControl,{label:(0,t.__)("Select Icon","wpopus"),autocomplete:"off",value:x,onChange:e=>{k(e)},onClick:e=>{e.preventDefault(),h(!0)},placeholder:(0,t.__)("Search Icon","wpopus")}),(0,n.createElement)(o.Icon,{icon:"screenoptions",onClick:()=>{h((e=>!e))}})),!d&&s.iconValue&&(0,n.createElement)("span",{className:"st-selected-icon",dangerouslySetInnerHTML:{__html:s.iconValue}}),d&&(0,n.createElement)(r.Fragment,null,(0,n.createElement)("fieldset",null,(0,n.createElement)(o.__experimentalToggleGroupControl,{value:T,isBlock:!0,onChange:e=>{O(e)}},(0,n.createElement)(o.__experimentalToggleGroupControlOption,{value:"",label:(0,t.__)("All","wpopus")}),(0,n.createElement)(o.__experimentalToggleGroupControlOption,{value:"outline",label:(0,t.__)("Outline","wpopus")}),(0,n.createElement)(o.__experimentalToggleGroupControlOption,{value:"sharp",label:(0,t.__)("Sharp","wpopus")}),(0,n.createElement)(o.__experimentalToggleGroupControlOption,{value:"filled",label:(0,t.__)("Filled","wpopus")}))),y&&(0,n.createElement)("h3",null,(0,t.__)("Loading Icons","wpopus")," ",(0,n.createElement)(o.Spinner,null)),(0,n.createElement)("div",{className:"st-icons-list"},"sharp"===T||"outline"===T?(0,n.createElement)("h3",null,(0,t.__)("Only in pro version","wpopus")):!f&&!y&&L.map((e=>(0,n.createElement)("a",{href:"#",title:e.value.label,"icon-value":e.value.value,onClick:e=>{e.preventDefault(),I("iconValue",e.currentTarget.getAttribute("icon-value")),h(!1)}},(0,n.createElement)("span",{className:`${e.value.label}`,dangerouslySetInnerHTML:{__html:e.value.value}})))))))),(0,n.createElement)(o.PanelBody,{title:(0,t.__)("Icon Style","wpopus")},(0,n.createElement)("fieldset",null,(0,n.createElement)(o.RangeControl,{label:(0,t.__)("Icon Size","wpopus"),value:s.options.iconSize,min:10,max:300,onChange:e=>{N("iconSize",parseInt(e))}}))))),(0,n.createElement)(l.BlockControls,{label:"Options"},(0,n.createElement)(o.ToolbarGroup,null,(0,n.createElement)(o.ToolbarButton,{icon:"admin-links",label:(0,t.__)("Add Url","wpopus"),onClick:()=>{b((e=>!e))},ref:g})),E&&(0,n.createElement)(o.Popover,{className:"icon-url",anchor:v},(0,n.createElement)(o.TextControl,{type:"url",label:(0,t.__)("URL","wpopus"),placeHolder:"https://",value:s.iconUrl,onChange:e=>{I("iconUrl",(0,a.prependHTTP)(e))}}),(0,n.createElement)(o.CheckboxControl,{label:(0,t.__)("Open in new tab","wpopus"),checked:s.options.iconLinkNewTab,onChange:e=>{N("iconLinkNewTab",e)}}))),s.iconUrl?(0,n.createElement)("a",{href:"#."},(0,n.createElement)("span",{style:{height:`${s.options.iconSize}px`,width:`${s.options.iconSize}px`},className:"wpopus-icon",dangerouslySetInnerHTML:{__html:s.iconValue}})):(0,n.createElement)("span",{style:{height:`${s.options.iconSize}px`,width:`${s.options.iconSize}px`},className:"wpopus-icon",dangerouslySetInnerHTML:{__html:s.iconValue}}),!s.iconValue&&!s.iconUrl&&(0,n.createElement)("span",null,(0,t.__)("Loading Icon..","wpopus")))},save:function(e){const{attributes:t}=e,o=(0,l.__experimentalGetBorderClassesAndStyles)(t),a=(0,l.__experimentalGetColorClassesAndStyles)(t),r=(0,l.__experimentalGetSpacingClassesAndStyles)(t),s={...o.style,...a.style,...r.style};return(0,n.createElement)("div",{...l.useBlockProps.save(),style:s},t.iconUrl?(0,n.createElement)("a",{href:t.iconUrl,target:!!t.options.iconLinkNewTab&&"_blank",rel:!!t.options.iconLinkNewTab&&"noopener noreferrer"},(0,n.createElement)("span",{style:{height:`${t.options.iconSize}px`,width:`${t.options.iconSize}px`},className:"wpopus-icon",dangerouslySetInnerHTML:{__html:t.iconValue}})):(0,n.createElement)("span",{style:{height:`${t.options.iconSize}px`,width:`${t.options.iconSize}px`},className:"wpopus-icon",dangerouslySetInnerHTML:{__html:t.iconValue}}))}})}},t={};function l(e){var o=t[e];if(void 0!==o)return o.exports;var a=t[e]={exports:{}};return n[e](a,a.exports,l),a.exports}l.m=n,e=[],l.O=(n,t,o,a)=>{if(!t){var r=1/0;for(p=0;p<e.length;p++){for(var[t,o,a]=e[p],s=!0,i=0;i<t.length;i++)(!1&a||r>=a)&&Object.keys(l.O).every((e=>l.O[e](t[i])))?t.splice(i--,1):(s=!1,a<r&&(r=a));if(s){e.splice(p--,1);var c=o();void 0!==c&&(n=c)}}return n}a=a||0;for(var p=e.length;p>0&&e[p-1][2]>a;p--)e[p]=e[p-1];e[p]=[t,o,a]},l.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={368:0,673:0};l.O.j=n=>0===e[n];var n=(n,t)=>{var o,a,[r,s,i]=t,c=0;if(r.some((n=>0!==e[n]))){for(o in s)l.o(s,o)&&(l.m[o]=s[o]);if(i)var p=i(l)}for(n&&n(t);c<r.length;c++)a=r[c],l.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return l.O(p)},t=globalThis.webpackChunkwpopus=globalThis.webpackChunkwpopus||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})();var o=l.O(void 0,[673],(()=>l(818)));o=l.O(o)})();