(()=>{"use strict";var e,t={10:()=>{const e=window.wp.blocks,t=window.React,l=window.wp.i18n,n=window.wp.blockEditor,a=window.wp.components,o=window.wp.element;(0,e.registerBlockType)("wpopus/icon",{edit:function(e){const{attributes:r,setAttributes:s}=e,i=(0,n.__experimentalUseBorderProps)(r),c=(0,n.__experimentalUseColorProps)(r),u=(0,n.__experimentalGetSpacingClassesAndStyles)(r),p={...i.style,...c.style,...u.style},[m,_]=(0,o.useState)([]),[d,v]=(0,o.useState)(!1),[w,g]=(0,o.useState)(!0),[h,y]=(0,o.useState)(null),[E,f]=(0,o.useState)(""),[b,S]=(0,o.useState)("");function x(e,t){s({[e]:t})}(0,o.useEffect)((()=>{y(null),async function(){try{return await async function(){const e=await wp.apiFetch({path:"/wpopus/v1/icons"});return Object.entries(e).map((([e,t])=>({index:e,value:t})))}()}catch(e){return e.message}}().then((e=>{_(e)})).catch((e=>{y(e)})).finally((()=>{g(!1)}))}),[]);const C=(0,o.useMemo)((()=>m.filter((e=>"filled"===b?!e.value.label.includes("outline")&&!e.value.label.includes("sharp")&&e.value.label.includes(E):e.value.label.includes(b)&&e.value.label.includes(E)))),[m,b,E]);return(0,t.createElement)("div",{...(0,n.useBlockProps)(),style:p},(0,t.createElement)(n.InspectorControls,{key:"setting"},(0,t.createElement)(a.Panel,null,(0,t.createElement)(a.PanelBody,{title:(0,l.__)("Icon Settings","wpopus"),initialOpen:!0},h&&(0,t.createElement)("p",null,(0,l.__)("Error Fetching Icons:","wpopus")," ",h.message),Array.isArray(m)&&(0,t.createElement)(o.Fragment,null,(0,t.createElement)("fieldset",{className:"st-search-icons"},(0,t.createElement)(a.TextControl,{label:(0,l.__)("Select Icon","wpopus"),autocomplete:"off",value:E,onChange:e=>{f(e)},onClick:e=>{e.preventDefault(),v(!0)},placeholder:(0,l.__)("Search Icon","wpopus")}),(0,t.createElement)(a.Icon,{icon:"screenoptions",onClick:()=>{v((e=>!e))}})),!d&&r.iconValue&&(0,t.createElement)("span",{className:"st-selected-icon",dangerouslySetInnerHTML:{__html:r.iconValue}}),d&&(0,t.createElement)(o.Fragment,null,(0,t.createElement)("fieldset",null,(0,t.createElement)(a.__experimentalToggleGroupControl,{value:b,isBlock:!0,onChange:e=>{S(e)}},(0,t.createElement)(a.__experimentalToggleGroupControlOption,{value:"",label:(0,l.__)("All","wpopus")}),(0,t.createElement)(a.__experimentalToggleGroupControlOption,{value:"outline",label:(0,l.__)("Outline","wpopus")}),(0,t.createElement)(a.__experimentalToggleGroupControlOption,{value:"sharp",label:(0,l.__)("Sharp","wpopus")}),(0,t.createElement)(a.__experimentalToggleGroupControlOption,{value:"filled",label:(0,l.__)("Filled","wpopus")}))),w&&(0,t.createElement)("h3",null,(0,l.__)("Loading Icons","wpopus")," ",(0,t.createElement)(a.Spinner,null)),(0,t.createElement)("div",{className:"st-icons-list"},"sharp"===b||"outline"===b?(0,t.createElement)("h3",null,(0,l.__)("Only in pro version","wpopus")):!h&&!w&&C.map((e=>(0,t.createElement)("a",{href:"#",title:e.value.label,"icon-value":e.value.value,onClick:e=>{e.preventDefault(),x("iconValue",e.currentTarget.getAttribute("icon-value")),x("iconName",e.currentTarget.getAttribute("title")),v(!1)}},(0,t.createElement)("span",{className:`${e.value.label}`,dangerouslySetInnerHTML:{__html:e.value.value}})))))))),(0,t.createElement)(a.PanelBody,{title:(0,l.__)("Icon Style","wpopus")},(0,t.createElement)("fieldset",null,(0,t.createElement)(a.RangeControl,{label:(0,l.__)("Icon Size","wpopus"),value:r.iconSize,min:10,max:300,onChange:e=>{x("iconSize",parseInt(e))}}))))),!r.iconValue&&(0,t.createElement)("span",null,(0,l.__)("Loading Icon..","wpopus")),(0,t.createElement)("span",{style:{height:`${r.iconSize}px`,width:`${r.iconSize}px`},className:"wpopus-icon",dangerouslySetInnerHTML:{__html:r.iconValue}}))},save:function(e){const{attributes:l}=e,a=(0,n.__experimentalGetBorderClassesAndStyles)(l),o=(0,n.__experimentalGetColorClassesAndStyles)(l),r=(0,n.__experimentalGetSpacingClassesAndStyles)(l),s={...a.style,...o.style,...r.style};return(0,t.createElement)("div",{...n.useBlockProps.save(),style:s},(0,t.createElement)("span",{style:{height:`${l.iconSize}px`,width:`${l.iconSize}px`},className:"wpopus-icon",dangerouslySetInnerHTML:{__html:l.iconValue}}))}})}},l={};function n(e){var a=l[e];if(void 0!==a)return a.exports;var o=l[e]={exports:{}};return t[e](o,o.exports,n),o.exports}n.m=t,e=[],n.O=(t,l,a,o)=>{if(!l){var r=1/0;for(u=0;u<e.length;u++){for(var[l,a,o]=e[u],s=!0,i=0;i<l.length;i++)(!1&o||r>=o)&&Object.keys(n.O).every((e=>n.O[e](l[i])))?l.splice(i--,1):(s=!1,o<r&&(r=o));if(s){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[l,a,o]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={782:0,137:0};n.O.j=t=>0===e[t];var t=(t,l)=>{var a,o,[r,s,i]=l,c=0;if(r.some((t=>0!==e[t]))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(i)var u=i(n)}for(t&&t(l);c<r.length;c++)o=r[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},l=globalThis.webpackChunkwpopus=globalThis.webpackChunkwpopus||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var a=n.O(void 0,[137],(()=>n(10)));a=n.O(a)})();