(()=>{"use strict";const e=window.React,t=window.wp.i18n,o=window.wp.components,l=window.wp.element,a=()=>(0,e.createElement)("div",{className:"tab-content welcome"},(0,e.createElement)("div",{className:"welcome-wrapper"},(0,e.createElement)("h2",null,(0,t.__)("Welcome to wpOpus Plugin!","wpopus")),(0,e.createElement)("h3",null,(0,t.__)("Supercharge your WordPress site with our powerful collection of Gutenberg blocks and features (Limited in Free Version & Full Access in Pro Version):","wpopus")),(0,e.createElement)("ul",null,(0,e.createElement)("li",null,(0,t.__)("24+ Advanced Custom Gutenberg blocks","wpopus")),(0,e.createElement)("li",null,(0,t.__)("Import pre-built templates","wpopus")),(0,e.createElement)("li",null,(0,t.__)("One click demo importer for quick setup","wpopus")),(0,e.createElement)("li",null,(0,t.__)("Text to speech for Audio Content","wpopus")),(0,e.createElement)("li",null,(0,t.__)("Unlimited Google Fonts integration","wpopus")),(0,e.createElement)("li",null,(0,t.__)("1300+ aesthetic icons","wpopus")),(0,e.createElement)("li",null,(0,t.__)("Eye-catching animations","wpopus")),(0,e.createElement)("li",null,(0,t.__)("Smooth hover effects","wpopus")),(0,e.createElement)("li",null,(0,t.__)("Responsive visibility options","wpopus")),(0,e.createElement)("li",null,(0,t.__)("Infinite Scroll & Load More for Query Posts Block","wpopus")),(0,e.createElement)("li",null,(0,t.__)("Masonry layout for Query Posts and Advanced Gallery Blocks","wpopus"))),(0,e.createElement)("p",null,(0,t.__)("wpOpus gives you the tools to create stunning, dynamic websites with ease. Whether you're a beginner or an experienced developer, our intuitive blocks and flexible options will help you bring your vision to life. Dive in and start exploring the possibilities today!","wpopus")),(0,e.createElement)("p",null,(0,t.__)("Need more details on any feature? Let us know, and we would be happy to elaborate.","wpopus")),(0,e.createElement)("div",{className:"meta-links"},(0,e.createElement)("a",{href:wpOpus.landing_page_url,target:"_blank",rel:"nofollow"},(0,t.__)("Visit wpOpus Site","wpopus")),(0,e.createElement)("a",{href:wpOpus.documentation_url,target:"_blank",rel:"nofollow"},(0,t.__)("Documentation","wpopus")),(0,e.createElement)("a",{href:wpOpus.contact_url,target:"_blank",rel:"nofollow"},(0,t.__)("Support","wpopus"))))),n=()=>{const[a,n]=(0,l.useState)([]),[r,p]=(0,l.useState)({ok:!1,error:null,loading:!1}),[s,u]=(0,l.useState)({ok:!1,error:null,loading:!1}),[c,i]=(0,l.useState)(!1),[m,_]=(0,l.useState)(null),[d,w]=(0,l.useState)(null),[g,E]=(0,l.useState)(null);(0,l.useEffect)((()=>{h()}),[]),(0,l.useEffect)((()=>{(async()=>{if(p({...r,loading:!0}),a.length>0)try{const e=await b("wpopus_preload_enable"),t=await b("wpopus_preload_image"),o=await b("wpopus_preload_image_width")||100,l=await b("wpopus_preload_bg_color")||"#000000";i(e),_(t),w(o),E(l)}finally{p({ok:!0,error:null,loading:!1})}})()}),[a]);const h=async()=>{p({...r,loading:!0});try{const e=["wpopus_preload_enable","wpopus_preload_image","wpopus_preload_image_width","wpopus_preload_bg_color"],o=`/wpopus/v1/getoptions?option_names=${encodeURIComponent(JSON.stringify(e))}`,l=await wp.apiFetch({path:o});Array.isArray(l)?(n(l),p({ok:!0,error:null,loading:!1})):p({ok:!1,error:(0,t.__)("Invalid response format","wpopus"),loading:!1})}catch(e){p({ok:!1,error:(0,t.__)("An error occurred while fetching options","wpopus"),loading:!1})}},b=e=>{if(a){const t=a.findIndex((t=>t.name===e));if(-1!==t)return a[t].value}return!1},k=async(e,o)=>{u({ok:!1,error:null,loading:!0});try{const l=await wp.apiFetch({path:"/wpopus/v1/updateoption",method:"POST",data:{option_name:e,option_value:o||""}});u(l?{ok:!0,error:null,loading:!1}:{ok:!1,error:(0,t.__)("Failed to save option","wpopus"),loading:!1})}catch(e){console.error("Error saving options:",e),u({ok:!1,error:(0,t.__)("An error occurred while saving option","wpopus"),loading:!1})}};return(0,e.createElement)("div",{className:"tab-content preloader"},(0,e.createElement)("div",{className:"wpopus-setting-notice"},r.loading&&(0,e.createElement)("h4",{className:"loading-message wpopus-show-message"},(0,t.__)("Loading Settings","wpopus")," ",(0,e.createElement)(o.Spinner,null)),r.error&&(0,e.createElement)("h4",{className:"error-message wpopus-show-message"},(0,t.__)("Error fetching settings:","wpopus")," ",r.error),s.loading&&(0,e.createElement)("h4",{className:"loading-message wpopus-show-message"},(0,t.__)("Saving setting","wpopus")," ",(0,e.createElement)(o.Spinner,null)),s.ok&&(0,e.createElement)("h4",{className:"success-message wpopus-show-message"},(0,t.__)("Settings saved successfully!","wpopus"))),!r.loading&&(0,e.createElement)("table",{className:"wpopus-preload-form widefat striped"},(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("td",null,(0,e.createElement)("h3",null,(0,t.__)("Enable PreLoader","wpopus"))),(0,e.createElement)("td",null,(0,e.createElement)(o.ToggleControl,{label:c?(0,t.__)("Enabled","wpopus"):(0,t.__)("Disabled","wpopus"),checked:c,onChange:e=>{i(e),k("wpopus_preload_enable",e)}}))),(0,e.createElement)("tr",null,(0,e.createElement)("td",null,(0,e.createElement)("h3",null,(0,t.__)("Select Image","wpopus")),(0,e.createElement)("p",null,(0,t.__)("Note: Transparent GIF Image Recommended.","wpopus")," ",(0,e.createElement)("a",{href:"https://loading.io/",target:"_blank",rel:"nofollow"},(0,t.__)("Click Here"))," ",(0,t.__)("to get GIF preloader images.","wpopus"))),(0,e.createElement)("td",null,(0,e.createElement)("div",{onClick:()=>{const e=wp.media({title:(0,t.__)("Select or Upload Media","wpopus"),button:{text:(0,t.__)("Use this media","wpopus")},multiple:!1});e.on("select",(()=>{const t=e.state().get("selection").first().toJSON();_(t),k("wpopus_preload_image",t)})),e.open()}},m?(0,e.createElement)("img",{className:"wpopus-media",src:m.url,alt:m.alt}):(0,e.createElement)(o.Button,{className:"is-primary button-primary"},(0,t.__)("Upload Image","wpopus"))))),(0,e.createElement)("tr",null,(0,e.createElement)("td",null,(0,e.createElement)("h3",null,(0,t.__)("Image Width (px)","wpopus"))),(0,e.createElement)("td",null,(0,e.createElement)(o.__experimentalNumberControl,{isShiftStepEnabled:!0,onChange:e=>{w(e),k("wpopus_preload_image_width",e)},min:50,max:500,value:d}))),(0,e.createElement)("tr",null,(0,e.createElement)("td",null,(0,e.createElement)("h3",null,(0,t.__)("Background Color","wpopus"))),(0,e.createElement)("td",null,(0,e.createElement)(o.ColorPicker,{className:"wpopus-color-palette",color:g,onChange:e=>{E(e),k("wpopus_preload_bg_color",e)},enableAlpha:!0,defaultValue:"#000000"}))))))},r=()=>{const[a,n]=(0,l.useState)([]),[r,p]=(0,l.useState)({ok:!1,error:null,loading:!1}),[s,u]=(0,l.useState)({ok:!1,error:null,loading:!1}),[c,i]=(0,l.useState)(!1),[m,_]=(0,l.useState)(null),[d,w]=(0,l.useState)(null),[g,E]=(0,l.useState)(null),[h,b]=(0,l.useState)(null),[k,f]=(0,l.useState)(null),[y,S]=(0,l.useState)(null),v={color:"#000000",style:"solid",width:"1px"};(0,l.useEffect)((()=>{N()}),[]),(0,l.useEffect)((()=>{(async()=>{if(p({...r,loading:!0}),a.length>0)try{const e=await C("wpopus_backtotop_enable"),t=await C("wpopus_backtotop_image"),o=await C("wpopus_backtotop_image_width")||25,l=await C("wpopus_backtotop_padding")||1,a=await C("wpopus_backtotop_bg_color")||"#000000",n=await C("wpopus_backtotop_border")||v,r=await C("wpopus_backtotop_border_radius")||0;i(e),_(t),w(o),E(l),b(a),f(n),f(r)}finally{p({ok:!0,error:null,loading:!1})}})()}),[a]);const N=async()=>{p({...r,loading:!0});try{const e=["wpopus_backtotop_enable","wpopus_backtotop_image","wpopus_backtotop_image_width","wpopus_backtotop_bg_color","wpopus_backtotop_padding","wpopus_backtotop_border","wpopus_backtotop_border_radius"],o=`/wpopus/v1/getoptions?option_names=${encodeURIComponent(JSON.stringify(e))}`,l=await wp.apiFetch({path:o});Array.isArray(l)?(n(l),p({ok:!0,error:null,loading:!1})):p({ok:!1,error:(0,t.__)("Invalid response format","wpopus"),loading:!1})}catch(e){p({ok:!1,error:(0,t.__)("An error occurred while fetching options","wpopus"),loading:!1})}},C=e=>{if(a){const t=a.findIndex((t=>t.name===e));if(-1!==t)return a[t].value}return!1},x=async(e,o)=>{u({ok:!1,error:null,loading:!0});try{const l=await wp.apiFetch({path:"/wpopus/v1/updateoption",method:"POST",data:{option_name:e,option_value:o||""}});u(l?{ok:!0,error:null,loading:!1}:{ok:!1,error:(0,t.__)("Failed to save option","wpopus"),loading:!1})}catch(e){console.error("Error saving options:",e),u({ok:!1,error:(0,t.__)("An error occurred while saving option","wpopus"),loading:!1})}};return(0,e.createElement)("div",{className:"tab-content backToToper"},(0,e.createElement)("div",{className:"wpopus-setting-notice"},r.loading&&(0,e.createElement)("h4",{className:"loading-message wpopus-show-message"},(0,t.__)("Loading Settings","wpopus")," ",(0,e.createElement)(o.Spinner,null)),r.error&&(0,e.createElement)("h4",{className:"error-message wpopus-show-message"},(0,t.__)("Error fetching settings:","wpopus")," ",r.error),s.loading&&(0,e.createElement)("h4",{className:"loading-message wpopus-show-message"},(0,t.__)("Saving setting","wpopus")," ",(0,e.createElement)(o.Spinner,null)),s.ok&&(0,e.createElement)("h4",{className:"success-message wpopus-show-message"},(0,t.__)("Settings saved successfully!","wpopus"))),!r.loading&&(0,e.createElement)("table",{className:"wpopus-backToTop-form widefat striped"},(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("td",null,(0,e.createElement)("h3",null,(0,t.__)("Enable Back to Top","wpopus"))),(0,e.createElement)("td",null,(0,e.createElement)(o.ToggleControl,{label:c?(0,t.__)("Enabled","wpopus"):(0,t.__)("Disabled","wpopus"),checked:c,onChange:e=>{i(e),x("wpopus_backtotop_enable",e)}}))),(0,e.createElement)("tr",null,(0,e.createElement)("td",null,(0,e.createElement)("h3",null,(0,t.__)("Select Image","wpopus")),(0,e.createElement)("p",null,(0,t.__)("Note: Transparent PNG Image Recommended.","wpopus")," ",(0,e.createElement)("a",{href:"https://icon-sets.iconify.design/?query=up",target:"_blank",rel:"nofollow"},(0,t.__)("Click Here"))," ",(0,t.__)("to get icons for back to top. Make sure you download icon in PNG format.","wpopus"))),(0,e.createElement)("td",null,(0,e.createElement)("div",{onClick:()=>{const e=wp.media({title:(0,t.__)("Select or Upload Media","wpopus"),button:{text:(0,t.__)("Use this media","wpopus")},multiple:!1});e.on("select",(()=>{const t=e.state().get("selection").first().toJSON();_(t),x("wpopus_backtotop_image",t)})),e.open()}},m?(0,e.createElement)("img",{className:"wpopus-media",src:m.url,alt:m.alt}):(0,e.createElement)(o.Button,{className:"is-primary button-primary"},(0,t.__)("Upload Image","wpopus"))))),(0,e.createElement)("tr",null,(0,e.createElement)("td",null,(0,e.createElement)("h3",null,(0,t.__)("Image Width (px)","wpopus"))),(0,e.createElement)("td",null,(0,e.createElement)(o.__experimentalNumberControl,{isShiftStepEnabled:!0,onChange:e=>{w(e),x("wpopus_backtotop_image_width",e)},min:25,max:100,value:d}))),(0,e.createElement)("tr",null,(0,e.createElement)("td",null,(0,e.createElement)("h3",null,(0,t.__)("Padding (px)","wpopus"))),(0,e.createElement)("td",null,(0,e.createElement)(o.__experimentalNumberControl,{isShiftStepEnabled:!0,onChange:e=>{E(e),x("wpopus_backtotop_padding",e)},min:1,max:50,value:g}))),(0,e.createElement)("tr",null,(0,e.createElement)("td",null,(0,e.createElement)("h3",null,(0,t.__)("Background Color","wpopus"))),(0,e.createElement)("td",null,(0,e.createElement)(o.ColorPicker,{className:"wpopus-color-palette",color:h,onChange:e=>{b(e),x("wpopus_backtotop_bg_color",e)},enableAlpha:!0,defaultValue:"#000000"}))),(0,e.createElement)("tr",null,(0,e.createElement)("td",null,(0,e.createElement)("h3",null,(0,t.__)("Border","wpopus"))),(0,e.createElement)("td",null,(0,e.createElement)(o.__experimentalBorderControl,{onChange:e=>{f(e),x("wpopus_backtotop_border",e)},value:k}))),(0,e.createElement)("tr",null,(0,e.createElement)("td",null,(0,e.createElement)("h3",null,(0,t.__)("Border Radius (px)","wpopus"))),(0,e.createElement)("td",null,(0,e.createElement)(o.__experimentalNumberControl,{isShiftStepEnabled:!0,onChange:e=>{S(e),x("wpopus_backtotop_border_radius",e)},min:0,max:500,value:y}))))))},p=()=>(0,e.createElement)(o.TabPanel,{className:"wpopus-tab-panel",activeClass:"active-tab",tabs:[{name:"welcome",title:(0,t.__)("Welcome","wpopus"),className:"welcome-tab"},{name:"preloader",title:(0,t.__)("PreLoader","wpopus"),className:"preloader-tab"},{name:"backtotop",title:(0,t.__)("Back to Top","wpopus"),className:"backtotop-tab"}]},(t=>(0,e.createElement)("div",{className:"wpopus-setting-wrapper wrap"},"welcome"===t.name&&(0,e.createElement)(l.Fragment,null,(0,e.createElement)(a,null)),"preloader"===t.name&&(0,e.createElement)(l.Fragment,null,(0,e.createElement)(n,null)),"backtotop"===t.name&&(0,e.createElement)(l.Fragment,null,(0,e.createElement)(r,null)))));document.addEventListener("DOMContentLoaded",(function(){document.getElementById("wpopus-settings")&&(0,l.render)((0,e.createElement)(p,null),document.getElementById("wpopus-settings"))}))})();